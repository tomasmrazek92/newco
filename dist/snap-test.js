"use strict";(()=>{var e={isMobile:null,lenis:null,$content:$(".page-main"),currentSection:0,isAnimating:!1,lastScrollTime:0,scrollCooldown:1e3};function m(n){return n.offsetWidth>window.innerWidth+1}function w(n){if(!m(n))return!1;let o=e.lenis.scroll,r=n.offsetLeft+n.offsetWidth-window.innerWidth;return Math.abs(o-r)<20}function S(n){if(!m(n))return!1;let o=e.lenis.scroll,r=n.offsetLeft;return Math.abs(o-r)<20}function h(){p(),e.isMobile=$(window).width()<=991;let o=(t=>new URLSearchParams(window.location.search).get(t))("touch"),r=o?parseFloat(o):.8;e.lenis=new Lenis({content:e.$content[0],lerp:1,duration:1.5,easing:t=>t===1?1:1-Math.pow(2,-10*t),touchMultiplier:r,smoothWheel:!0,orientation:e.isMobile?"vertical":"horizontal",wheelMultiplier:.5}),e.isMobile||(e.lenis.on("scroll",()=>{ScrollTrigger.update()}),ScrollTrigger.scrollerProxy(e.$content[0],{scrollLeft(t){return arguments.length&&e.lenis.scrollTo(t,0,0),e.lenis.scroll},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:"transform"}),window.addEventListener("wheel",t=>{let i=document.querySelectorAll(".section-snap"),u=i[e.currentSection],l=Math.sign(t.deltaY);if(m(u)){if(l>0&&w(u)||l<0&&S(u)){t.preventDefault();let c=Date.now();if(e.isAnimating||c-e.lastScrollTime<e.scrollCooldown)return;let a=e.currentSection+l;a>=0&&a<i.length&&(e.isAnimating=!0,e.lastScrollTime=c,e.lenis.scrollTo(i[a].offsetLeft,{duration:1.5,easing:g=>Math.min(1,1.001-Math.pow(2,-10*g)),lock:!0,onComplete:()=>{e.isAnimating=!1,e.currentSection=a}}))}return}t.preventDefault();let d=Date.now();if(e.isAnimating||d-e.lastScrollTime<e.scrollCooldown)return;e.lastScrollTime=d;let s=e.currentSection+l;s>=0&&s<i.length&&(e.isAnimating=!0,e.lenis.scrollTo(i[s].offsetLeft,{duration:1.5,easing:c=>Math.min(1,1.001-Math.pow(2,-10*c)),lock:!0,onComplete:()=>{e.isAnimating=!1,e.currentSection=s}}))},{passive:!1})),requestAnimationFrame(function t(i){e.lenis.raf(i),requestAnimationFrame(t)}),setTimeout(()=>{e.lenis.scrollTo(0,{immediate:!0})},100)}function p(){$(".nav").removeClass("active"),ScrollTrigger.getAll().forEach(n=>n.kill()),e.lenis&&e.lenis.destroy()}var f;window.addEventListener("resize",()=>{f&&clearTimeout(f),f=setTimeout(h,250)});h();})();
